# Осмо упражнение

### Остават ви две седмици до контролното
**Make them count!**

Днес решихте две задачи от [вариант А](https://learn.fmi.uni-sofia.bg/mod/page/view.php?id=76851), по-точно:

**Задача 3** Да се напише функция (checkMatrix? m k) която проверява дали на всеки ред в дадена матрица m от цели числа има поне по едно число, кратно на k.  

Това, което ми направи впечатление е, че повечето започнахте да пишете веднага
кода за основната функция (checkMatrix?).  
Съветвам ви оттук нататък първо да **разбиете задачата** на малки помощни функции,
които след това да комбинирате и да получите търсената checkMatrix?.  

```
Окей, ама как може да стане това за конкретната задача?
```
Както знаем, матрица за нас означава списък от редове. Редовете, пък, 
са списъци от стойности.  
В задачата се иска да проверим дали във всички списъци (редове) на матрица
има поне един елемент, който е кратно на някакво число k.  

Спокойно можем да напишем функция, която проверява дали в **един** списък
има поне едно число, кратно на k.

```Scheme
(define (contains-multiple-of? k lst)
    (if (null? lst)
        #f
        (if (= (remainder (car lst) k) 0)
            #t
            (contains-multiple-of? k (cdr lst)))))
```

Втори вариант за да изкажем същата функция би бил, да напишем
помощна функция any? (която впрочем имахте за вкъщи преди 2 седмици).

```Scheme
(define (any? pred lst)
    (if (null? lst)
        #f
        (if (pred (car lst))
            #t
            (any? pred (cdr lst)))))
            
(define (multiple-of? a b)
    (= (remainder a b) 0))
            
(define (contains-multiple-of? k lst)
    (any? (lambda (x) (multiple-of? x k)) lst))
```

След като вече можем да проверим дали някой ред изпълнява условието
contains-multiple-of? k, можем да проверим всички редове на матрицата:

```Scheme
(define (checkMatrix? m k)
    (if (null? matrix)
        #t
        (if (contains-multiple-of? (car m) k)
            (checkMatrix? (cdr m) k)
            #f
        )))
```

Втори вариант може да напишем с all? (това също го имахте за вкъщи преди две седмици)

```Scheme
(define (all? pred k lst)
    (if (null? lst)
        #t
        (if (pred k (car lst))
            (all? pred k (cdr lst))
            #f
        )))
        
(define (checkMatrix? m k)
    (all? contains-multiple-of? k m))
```

**Задача 4** е предизвикателна :)  
Да се напише функция (longestDescending­ l), която намира низходящо сортиран подсписък на списъка от числа l с максимална дължина. Ако съществуват няколко такива подсписъка, функцията да върне първия отляво надясно.  

Много важно нещо, което може да забележите тук е упътването, което гласи:  
**Реализирайте помощна функция, която намира най-дългия низходящо сортиран префикс на даден списък.**  

Трябва да започнем като си зададем въпроса "Какво са това префиксите и имат ли бъдеще у нас?"  
Ето ви една не особено формална дефиниция на префикс:  
Префикс на списък X е подсписък на Х, започващ от неговото начало.  
Ето няколко примера, които да илюстрират това изказване:  
```
X = (4 2 1 5 6 1 2)
префикс на Х е (4 2 1 5)
префикс на Х е (4 2)
префикс на Х е (4 2 1 5 6 1 2)
префикс на Х е (4)
```

Според упътването, искаме да намерим низходящ префикс на списък.

```
Напишете функция, която връща низходящ префикс на даден списък
(define (descending-prefix lst)
    ;do your magic
)
```